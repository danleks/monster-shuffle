<!DOCTYPE html>
<html lang="en-us">
<head>
	<title>Monsters!</title>

	<style type="text/css">
		body {
			display: grid;
			gap: 50px;
			margin: 1em auto;
			max-width: 40em;
			width: 88%;
		}

		h1 {
			text-align: center;
		}

		/**
		 * A simple grid layout
		 */
		.row {
			display: grid;
			grid-template-columns: auto auto auto;
			text-align: center;
		}

		.grid {
			min-height: 6em;
			padding: 1em;
		}

		.button {
			justify-self: center;
			width: 200px;
			padding: 10px;
			cursor: pointer;
			color: #fff;
			background-color: #FF4949;
			border: none;
			box-shadow: 1px 2px 0 1px #efefef;
			transition: box-shadow .2s ease-out;
		}

		.button:hover {
			box-shadow: 5px 6px 0px 1px #efefef;
		}

		p {
			font-size: 12px;
			color: rgb(167, 167, 167);
		}

		a {
			color: inherit;
			text-decoration: none;
		}

		a:hover {
			color: #FF4949;
		}

		/**
		 * Make sure images scale
		 */
		img {
			height: auto;
			max-width: 100%;
		}
	</style>
</head>
<body>

	<h1>Monsters!</h1>

	<div id="app">
	</div>
	<button class="button">Shuffle</button>

	<footer>
		<hr>
		<p class="text-small text-muted">Icons by <a href="https://thenounproject.com/term/door/311732/">Jamie Dickinson</a>, <a href="https://thenounproject.com/term/monster/184225/">Nicky Knicky</a>, <a href="https://thenounproject.com/term/monster/1510400/">Alvaro Cabrera</a>, <a href="https://thenounproject.com/term/monster/28460/">Eliricon</a>, <a href="https://thenounproject.com/term/monster/82823/">April Yang</a>, <a href="https://thenounproject.com/term/monster/1062009/">tk66</a>, <a href="https://thenounproject.com/term/monster/24990/">Alex WaZa</a>, <a href="https://thenounproject.com/term/monster/37212/">Husein Aziz</a>, <a href="https://thenounproject.com/term/monster/2236082">iconcheese</a>, and <a href="https://thenounproject.com/term/socks/38451/">Yazmin Alanis</a>.</p>
	</footer>

	<script>
		// The monsters and socks
		var monsters = [
			'monster1',
			'monster2',
			'monster3',
			'monster4',
			'monster5',
			'monster6',
			'monster7',
			'monster8',
			'monster9',
			'monster10',
			'monster11',
			'sock'
		];

		const app = document.querySelector('#app');
		const button = document.querySelector('.button');
		const monstersCopy = monsters.slice();
		let monstersMarkup = '';
		let shuffledMonsters = [];

		/**
		 * Randomly shuffle an array
		 * https://stackoverflow.com/a/2450976/1293256
		 * @param  {Array} array The array to shuffle
		 * @return {String}      The first item in the shuffled array
		 */
		 const shuffle = (array) => {
			var currentIndex = array.length;
			var temporaryValue, randomIndex;

			// While there remain elements to shuffle...
			while (0 !== currentIndex) {
				// Pick a remaining element...
				randomIndex = Math.floor(Math.random() * currentIndex);
				currentIndex -= 1;

				// And swap it with the current element.
				temporaryValue = array[currentIndex];
				array[currentIndex] = array[randomIndex];
				array[randomIndex] = temporaryValue;
			}

			return array;
		};

		const createMonstersMarkup = (monstersArray) => {
			let monstersMarkup = monstersArray.map(monster => {
				return `
					<div class="grid">
						<img src="./assets/images/${monster}.svg" alt="monster">
					</div>
				`
			}).join('');
			
			return monstersMarkup;
		};

		const render = (monstersMarkup) => {
			app.innerHTML = `
				<div class="row">
					${monstersMarkup}
				</div>
			`;
		};

		const init = () => {
			button.addEventListener('click', init);

			shuffledMonsters = shuffle(monstersCopy);

			if (shuffledMonsters.length === 0) {
				monstersMarkup = createMonstersMarkup(monsters);
			} else {
				monstersMarkup = createMonstersMarkup(shuffledMonsters);
			}
			render(monstersMarkup);
		}

		init();
	</script>
</body>
</html>